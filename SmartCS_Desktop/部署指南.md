# 🚀 Smart-CS 部署指南 (服务端与管理端)

本指南介绍如何在公司内网或云服务器上部署 Smart-CS 治理系统。

## 1. 服务端部署 (Server Side)

服务端是整个系统的“大脑”，负责接收违规、分发指令、存储数据。

### 操作步骤：
1.  **环境配置**:
    *   在一台 Windows 或 Linux 服务器上，准备好 MySQL 和 Redis（可选）。
2.  **放置文件**:
    *   将打包好的 `SmartCS_Server.exe` 和 `.env` 文件放在同一个文件夹下。
3.  **配置数据库**:
    *   编辑 `.env` 文件，填写正确的数据库地址、用户名和密码。
    *   `DB_TYPE=mysql` (如果要连远程 MySQL)。
4.  **启动服务**:
    *   双击运行 `SmartCS_Server.exe`。
    *   看到控制台输出 `Uvicorn running on http://0.0.0.0:8000` 即表示成功。

---

## 2. 管理中控台部署 (Supervisor/Admin)

主管使用的电脑需要安装 Admin 端。

### 操作步骤：
1.  **分发安装包**:
    *   给主管发送 `SmartCS_Setup_Pro.exe`。
2.  **配置服务地址**:
    *   安装完成后，在安装目录（默认 `C:\Program Files\SmartCS`）下找到 `server_config.json`。
    *   修改 `server_url` 为服务端的 IP 地址。
    *   修改 `department` 为该主管负责的部门（如 "Sales"）。
3.  **运行**:
    *   双击桌面快捷方式启动。

---

## 3. 坐席端大规模分发 (Agent Side)

200 人规模的快速部署。

### 操作步骤：
1.  **自动安装**:
    *   可以通过域控 GPO 脚本或公司内网分发工具统一运行 `SmartCS_Setup_Pro.exe /VERYSILENT`（静默安装模式）。
2.  **开机自启**:
    *   安装程序会自动将守护进程写入注册表。客服每天开机后，灵动岛会自动浮现。
3.  **异常处理**:
    *   如果发现无法感知窗口名字，请检查该电脑是否开启了“辅助功能权限”或“屏幕读取权限”。

---

## 📊 数据隔离配置示例

*   **场景**: A 部门主管只能管 A 部门。
*   **做法**:
    1.  A 部门所有客服的 `server_config.json` 中配置 `"department": "A"`。
    2.  A 部门主管的 `server_config.json` 中配置 `"department": "A"`。
    3.  总公司管理者的配置 `"department": "SuperAdmin"`。
