# 🛡️ Smart-CS 数智化运营治理平台 - 终极开发手册 (V8.0 终极完全体)

## 一、 系统架构：四端协同体系
1. **Server-Admin (Admin.exe)**: 架构中枢。管理 Express 服务、BI 决策大屏、终端硬件授权。
2. **Supervisor Tactical (Supervisor.exe)**: 实战指挥。坐席墙、视频溯源回放、强制广播下发。
3. **Agent Intelligence (Agent.exe)**: 辅助拦截。UIA 监控、灵动胶囊、自动上屏、截图求助。
4. **Guard Service (守护进程)**: 【新增】静默运行，负责主程序防杀、终端指纹采集。

## 二、 核心功能深度补全 (Elite Features)

### 1. 安全与准入：硬件指纹绑定
- **唯一性**: 首次登录自动上传 CPU+MAC+DiskID 组合成的硬件特征码。
- **白名单机制**: 管理员在服务端审核通过后，该终端方可访问局域网 API，实现“账号+设备”双重锁定。

### 2. 违规取证：拦截视频溯源 (Video Forensic)
- **触发逻辑**: 拦截级敏感词触发后，自动截取焦点窗口前 5 秒、后 2 秒的视频流。
- **存证管理**: 视频采用 H.265 极高压缩率存储，主管点击审计日志可直接弹出悬浮窗回放违规现场。

### 3. 指令闭环：强制已读广播
- **视觉反馈**: 紧急广播下发时，客服端进入“强制阅读模式”，屏幕变暗并显示公告。
- **回执存证**: 客服点击“确认”后，主管端实时更新“已读人数/总人数”列表。

## 三、 BI 趋势分析看板 (Decision Analytics)
- **风险地图**: 统计各时段、各部门违规频次热力图。
- **话术 ROI 分析**: 统计求助库中各方案的“转化贡献率”（通过 AI 识别后续成单词）。
- **管理员全局审计**: 追踪所有管理操作，防止内部人员作弊。

## 四、 数据库字段补充 (V8.0)
- `users`: 增加 `authorized_device_id` (硬件指纹)。
- `monitor_logs`: 增加 `video_evidence_url` (违规视频路径)。
- `broadcast_logs`: 增加 `read_status_json` (已读回执明细)。

## 五、 操作快捷与交互
- **全键盘流**: Alt+Space (搜话术), Alt+N (记备忘), Alt+H (呼叫协助)。
- **灵动岛反馈**: 不同等级的违规对应不同的震动频率与胶囊光效（红/橙/蓝）。
