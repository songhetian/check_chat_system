# Smart-CS Pro 安全开发与版本管理规范

## 1. 原子提交 (Atomic Commits)
为了确保有问题可以随时回溯，每次修改后的提交应遵循以下原则：
- **触发时机**: 在代码修改完成、类型检查 (`npm run typecheck`) 通过且验证逻辑无误后立即提交。
- **提交信息格式**: `[模块名] 简述: 详细原因/变更内容`
  - 例如: `[Agent-UI] 修复灵动岛在红色警报状态下圆角丢失的问题`
  - 例如: `[Core-Engine] 新增关键词过滤逻辑，支持正则匹配`

## 2. 自动回溯指令
如果新代码导致系统崩溃或逻辑错误，应使用以下方式回滚：
- **查看历史**: `git log --oneline -n 5`
- **快速撤销最近一次修改**: `git reset --hard HEAD^`
- **对比差异**: `git diff HEAD`

## 3. 开发环境检查
在提交前，建议执行以下命令确保质量：
- 前端: `npm run lint` 和 `npm run typecheck`
- 后端: 确保 `engine.py` 没有语法错误
